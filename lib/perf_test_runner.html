<link rel="import" href="../../packages/polymer/polymer.html">

<polymer-element name="perf-test-runner" attributes="testTitle,testUrl">
  <template>
    <style>
      :host {
        display: block;
      }
      iframe {
        display: none;
      }
      table {
        width: 100%;
      }
      td, th {
        text-align: left;
        border-bottom: solid 1px black;
      }
      tr :last-child {
        width: 100%;
      }
      h2 span {
        font-size: 12px;
        font-weight: normal;
      }
      input {
        width: 30px;
      }
    </style>
    <h2>
      {{testTitle}}
      <span>
        <label for="timesToRunInput">Times to run test: </label>
        <input id="timesToRunInput" value="[[timesToRun]]" />
      </span>
      <button id="run" on-tap="{{runTest}}">run test</button>
      <button id="toggleResults" on-tap="{{toggle}}" hidden>{{hidden ? 'show' : 'hide';}} results</button>
    </h2>
    <table id="results" hidden?="{{hidden}}">
      <thead><tr>
        <th>Measure</th>
        <th>Mean</th>
        <th>Median</th>
        <th>All runs</th>
      </tr></thead>
      <tbody></tbody>
    </table>
    <div id="holder"></div>
  </template>
  <script type="application/dart" src="perf_test_runner.dart"></script>
</polymer-element>
